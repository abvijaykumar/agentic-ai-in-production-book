# All v2 configuration (memory, agents, etc.)
# Plus v3 enterprise additions

# ===== PLATFORM INTEGRATIONS (NEW in v3) =====

# OpenAI Platform
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4
OPENAI_ASSISTANT_ID=asst_your_assistant_id
OPENAI_ORG_ID=org-your-org-id

# Anthropic Platform
ANTHROPIC_API_KEY=your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Microsoft Azure OpenAI
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_KEY=your-azure-key
AZURE_OPENAI_DEPLOYMENT=gpt-4
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# Microsoft Copilot Studio
MICROSOFT_APP_ID=your-app-id
MICROSOFT_APP_PASSWORD=your-app-password
MICROSOFT_BOT_ID=your-bot-id

# Google Vertex AI
GCP_PROJECT_ID=your-project-id
GCP_LOCATION=us-central1
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json
VERTEX_AI_MODEL=gemini-pro

# ===== MCP CONFIGURATION (NEW in v3) =====

MCP_GATEWAY_PORT=8080
MCP_GATEWAY_MAX_CONNECTIONS=1000

# MCP Servers
MCP_KNOWLEDGE_SERVER_ENABLED=true
MCP_TOOLS_SERVER_ENABLED=true
MCP_MEMORY_SERVER_ENABLED=true

# ===== ENTERPRISE SSO (NEW in v3) =====

# SSO Provider (azure_ad, okta, auth0)
SSO_PROVIDER=azure_ad
SSO_ENABLED=true

# Azure AD
AZURE_TENANT_ID=your-tenant-id
AZURE_CLIENT_ID=your-client-id
AZURE_CLIENT_SECRET=your-client-secret
AZURE_REDIRECT_URI=https://api.supportmax.com/auth/callback

# Okta (Alternative)
# OKTA_DOMAIN=your-domain.okta.com
# OKTA_CLIENT_ID=your-client-id
# OKTA_CLIENT_SECRET=your-client-secret

# Auth0 (Alternative)
# AUTH0_DOMAIN=your-domain.auth0.com
# AUTH0_CLIENT_ID=your-client-id
# AUTH0_CLIENT_SECRET=your-client-secret

# ===== RBAC & AUTHORIZATION (NEW in v3) =====

RBAC_ENABLED=true
RBAC_POLICY_FILE=config/policies/rbac.yaml

# JWT Configuration
JWT_SECRET=change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=1440  # 24 hours
JWT_REFRESH_ENABLED=true

# ===== API GATEWAY (NEW in v3) =====

# Kong API Gateway
KONG_ADMIN_URL=http://kong:8001
KONG_PROXY_URL=http://kong:8000
KONG_ADMIN_TOKEN=your-admin-token

# AWS API Gateway (Alternative)
# AWS_API_GATEWAY_ID=your-gateway-id
# AWS_API_GATEWAY_STAGE=production
# AWS_REGION=us-east-1

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=5000

# ===== SERVICE MESH (NEW in v3) =====

# Istio Configuration
ISTIO_ENABLED=true
ISTIO_NAMESPACE=istio-system
ISTIO_MTLS_MODE=STRICT

# ===== PLATFORM ROUTING (NEW in v3) =====

ROUTING_STRATEGY=cost_optimized  # cost_optimized, latency_optimized, capability_based
ROUTING_FALLBACK_ENABLED=true
ROUTING_HEALTH_CHECK_INTERVAL=30

# Platform Priorities (1=highest)
PLATFORM_PRIORITY_OPENAI=2
PLATFORM_PRIORITY_ANTHROPIC=3
PLATFORM_PRIORITY_AZURE=2
PLATFORM_PRIORITY_GOOGLE=1

# ===== DISTRIBUTED TRACING (NEW in v3) =====

OTEL_ENABLED=true
OTEL_EXPORTER=otlp
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
OTEL_SERVICE_NAME=supportmax-v3
OTEL_TRACE_SAMPLER=always_on

# Jaeger (Alternative)
# JAEGER_AGENT_HOST=jaeger
# JAEGER_AGENT_PORT=6831

# ===== KUBERNETES (NEW in v3) =====

K8S_NAMESPACE=supportmax-enterprise
K8S_SERVICE_ACCOUNT=supportmax-sa
K8S_ENABLE_AUTOSCALING=true
K8S_MIN_REPLICAS=3
K8S_MAX_REPLICAS=20

# ===== MULTI-REGION (NEW in v3) =====

PRIMARY_REGION=us-east-1
SECONDARY_REGIONS=eu-west-1,ap-southeast-1
ENABLE_MULTI_REGION=true

# ===== v2 CONFIGURATION (Inherited) =====

# From v2: Memory, Neo4j, Vector Store, etc.
DATABASE_URL=postgresql://supportmax:password@postgres:5432/supportmax
REDIS_CLUSTER_NODES=redis-0:6379,redis-1:6379,redis-2:6379
NEO4J_URI=neo4j://neo4j:7687
PINECONE_API_KEY=your-pinecone-key
MEM0_API_KEY=your-mem0-key
LANGSMITH_API_KEY=your-langsmith-key

# LangGraph & CrewAI from v2
LANGGRAPH_CHECKPOINTER=postgres
CREWAI_PROCESS=sequential

# ===== APPLICATION =====

APP_NAME=SupportMax Pro Enterprise
APP_VERSION=3.0.0
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=8

# ===== MONITORING (Enhanced in v3) =====

PROMETHEUS_PORT=9090
GRAFANA_ENABLED=true
DATADOG_API_KEY=your-datadog-key
DATADOG_ENABLED=true

# ===== SECURITY =====

ENABLE_ENCRYPTION_AT_REST=true
ENABLE_ENCRYPTION_IN_TRANSIT=true
TLS_VERSION=1.3
SECRETS_BACKEND=kms  # kms, vault, k8s

# AWS KMS
AWS_KMS_KEY_ID=your-kms-key-id

# ===== FEATURE FLAGS =====

FEATURE_MCP_GATEWAY=true
FEATURE_MULTI_PLATFORM=true
FEATURE_ENTERPRISE_SSO=true
FEATURE_SERVICE_MESH=true
FEATURE_INTELLIGENT_ROUTING=true
FEATURE_MULTI_REGION=true